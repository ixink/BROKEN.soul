{% extends "base.html" %}
{% block content %}
<div class="card text-center">
    <h2>Your Profile</h2>
    <img src="{{ user.profile_pic or '/static/default_pic.jpg' }}" alt="Profile Picture" class="profile-img mt-1">
    <h3 class="mt-1">{{ user.name }}</h3>
    <p class="small">{{ user.dept }} â€¢ {{ session.student_id }}</p>

    <form method="POST" enctype="multipart/form-data" class="mt-2">
        <label class="small" style="display:block; text-align:left; margin-bottom:0.5rem;">Update Profile Picture</label>
        <input type="file" name="profile_pic" accept="image/*">

        <label class="small" style="display:block; text-align:left; margin:1rem 0 0.5rem;">I am currently...</label>
        <select name="role">
            <option value="Healer" {% if user.role == 'Healer' %}selected{% endif %}>Healer (I want to help others)</option>
            <option value="Broken" {% if user.role == 'Broken' %}selected{% endif %}>Broken (I need support)</option>
        </select>

        <label class="small" style="display:block; text-align:left; margin:1rem 0 0.5rem;">
            About Me (shown when someone clicks "Learn More")
        </label>
        <textarea name="long_description" rows="6" placeholder="Share more about yourself (optional)...">{{ user.long_description }}</textarea>

        <button type="submit" class="btn-primary mt-1">Save Changes</button>
    </form>

    <div class="mt-2 small" style="text-align:left;">
        <p><strong>Phone:</strong> {{ user.phone }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
    </div>
</div>
{% endblock %}